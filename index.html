<!DOCTYPE html>
<html>
<head>
	<title></title>
	<!-- Latest compiled and minified CSS & JS -->
	<script src="https://code.jquery.com/jquery-3.2.1.js"></script>
<body>
	<div id="buttons"></div>
	<div id="giphy"></div>
	<script type="text/javascript">

	var giphyApp = {
		searchTerms: ['Beyonce', 'Nickelodean', 'Dog', 'Bangz', 'England', 'Wood', 'Video Games'],
		buttonGen: function() {
			for (var i = 0; i<this.searchTerms.length; i++){
				$('#buttons').append("<button>" +this.searchTerms[i]+ "</button>")
			}
		},
		clearGif: function() {
			$('#giphy').html(" ")
		},

		apiCall: function(query) {
			$.ajax({
		      url: "http://api.giphy.com/v1/gifs/search?q="+query+"&api_key=dc6zaTOxFJmzC",
		      method: 'GET'
		    }).done(function(response) {
		      console.log(response);
		      giphyApp.clearGif();
		      for (var i=0; i<response.data.length;i++){
		      	$("#giphy").prepend("<p>Rating: " + response.data[i].rating+"</p> <img src='"+response.data[i].images.fixed_height_still.url+"' data-still='"+response.data[i].images.fixed_height_still.url+"' data-animate='"+response.data[i].images.fixed_height.url+"' data-state='still' id='gif"+i+"'>");
		      }
		    });
		},

		key: "value"
	}

	//event calls
	document.onready
		giphyApp.buttonGen()


	$("button").on('click', function(){
		giphyApp.apiCall($(this).text());
	})


  	document.body.addEventListener( 'click', function ( event ) {
  		console.log($(this).attr('id'))
		// if( event.srcElement.id == 'gif') {
		// 	console.log($(this).attr("data-state"));
		// 	var state = $(this).attr("data-state");
		// 	if (state === "still") {
		//         $(this).attr("src", $(this).attr("data-animate"));

		//         $(this).attr("data-state", "animate");
		//     } else {
		//         $(this).attr("src", $(this).attr("data-still"));
		//         $(this).attr("data-state", "still");
		//     }
		// 	};
	} );



	// $(".gif").on("click", function() {
 //      // The attr jQuery method allows us to get or set the value of any attribute on our HTML element
 //      var state = $(this).attr("data-state");
 //      // If the clicked image's state is still, update its src attribute to what its data-animate value is.
 //      // Then, set the image's data-state to animate
 //      // Else set src to the data-still value
 //      if (state === "still") {
 //        $(this).attr("src", $(this).attr("data-animate"));
 //        $(this).attr("data-state", "animate");
 //      } else {
 //        $(this).attr("src", $(this).attr("data-still"));
 //        $(this).attr("data-state", "still");
 //      }
 //    });
	    // This is for the homework to make the onclick gif work
	    // if (state === "still") {
	    // 	$(this).attr("src", animate)
	    // 	$(this).attr("src", "animate")
	    // }
	    // else {
	    // 	$(this).attr("src", $(this).attr("data-still"))
	    // 	$(this).attr("src", "still")	    	
	    // }		
	</script>
</body>
</html>